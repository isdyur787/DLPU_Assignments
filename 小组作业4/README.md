# LR(0) 语法分析器

## 项目简介

这是一个基于 Web 的 LR(0)语法分析器，实现了自下而上的语法分析方法。支持用户输入文法和句子，构造 LR(0)分析表，并进行语法分析。By 二组 邵昱铭 王宝飞 孙智博 肖宇航

## 功能特点

1. **LR(0)分析表构造**：自动构造 LR(0)项目集规范族和分析表
2. **语法分析**：使用分析表对输入串进行语法分析
3. **可视化界面**：美观的 Web 界面，实时显示分析过程
4. **文件读写**：支持从文件加载文法和句子
5. **示例文件**：提供多个示例文法和句子文件

## 使用方法

### 1. 打开应用

直接在浏览器中打开 `index.html` 文件即可使用。

### 2. 输入文法

在"文法输入"文本框中输入文法规则，格式如下：

```
S -> E
E -> E + T | T
T -> T * F | F
F -> ( E ) | id
```

**格式说明：**

- 使用 `->` 或 `::=` 表示产生式
- 使用 `|` 分隔多个选择
- 空产生式用 `ε` 表示
- 每行一条产生式

### 3. 输入句子

在"输入串"文本框中输入要分析的句子，用空格分隔符号：

```
id + id * id
```

### 4. 构造分析表

点击"构造分析表"按钮，系统会：

- 构造 LR(0)项目集规范族
- 生成 ACTION 表和 GOTO 表
- 在界面上显示结果

### 5. 分析句子

点击"开始分析"按钮，系统会：

- 使用构造的分析表进行分析
- 显示每一步的分析过程
- 输出最终结果（成功或失败）

### 6. 从文件加载

1. 点击"从文件加载文法"或"从文件加载句子"按钮
2. 选择对应的文本文件
3. 文件内容会自动加载到文本框中

## 示例文件

项目提供了多个示例文件，位于 `examples` 目录：

### 示例 1：算术表达式文法

- **文法文件**：`examples/grammar1.txt`
- **句子文件**：`examples/sentence1.txt`
- **说明**：经典的算术表达式文法，支持加法、乘法、括号和标识符

### 示例 2：括号匹配文法

- **文法文件**：`examples/grammar2.txt`
- **句子文件**：`examples/sentence2.txt`
- **说明**：生成形如 a^n b^n 的字符串

### 示例 3：表达式文法（无优先级）

- **文法文件**：`examples/grammar3.txt`
- **句子文件**：`examples/sentence3.txt`
- **说明**：表达式文法，但可能不是 LR(0)文法（可能产生冲突）

### 示例 4：简单线性文法

- **文法文件**：`examples/grammar4.txt`
- **句子文件**：`examples/sentence4.txt`
- **说明**：简单的线性文法

## 技术实现

### 核心算法

1. **LR(0)项目集构造**

   - CLOSURE 函数：计算项目集的闭包
   - GOTO 函数：计算项目集的转换函数
   - 项目集规范族：通过迭代构造所有项目集

2. **分析表构造**

   - ACTION 表：根据移进和归约项目填充
   - GOTO 表：根据非终结符的转换填充

3. **语法分析**
   - 使用状态栈和符号栈
   - 根据 ACTION 表执行移进或归约操作
   - 根据 GOTO 表进行状态转换

### 文件结构

```
项目目录/
├── index.html          # 主页面
├── style.css           # 样式文件
├── lr0_parser.js       # LR(0)分析器核心逻辑
├── app.js              # 应用程序主逻辑
├── README.md           # 说明文档
└── examples/           # 示例文件目录
    ├── grammar1.txt
    ├── sentence1.txt
    ├── grammar2.txt
    ├── sentence2.txt
    ├── grammar3.txt
    ├── sentence3.txt
    ├── grammar4.txt
    └── sentence4.txt
```

## 注意事项

1. **LR(0)文法的限制**：不是所有上下文无关文法都是 LR(0)文法。如果文法存在冲突（移进-归约冲突或归约-归约冲突），分析表会显示多个动作，分析可能会失败。

2. **文法格式**：确保文法格式正确，第一个产生式的左部应该是开始符号。

3. **输入格式**：句子中的符号要用空格分隔，例如：`id + id * id` 而不是 `id+id*id`。

4. **浏览器兼容性**：建议使用现代浏览器（Chrome、Firefox、Edge 等）。

## 使用示例

1. 打开 `index.html`
2. 点击"从文件加载文法"，选择 `examples/grammar1.txt`
3. 点击"从文件加载句子"，选择 `examples/sentence1.txt`
4. 点击"构造分析表"，查看项目集和分析表
5. 点击"开始分析"，查看分析过程和结果
